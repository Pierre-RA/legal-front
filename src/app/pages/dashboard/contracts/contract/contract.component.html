<h1 *ngIf="contract">{{contract.getTitle()}}</h1>

<h2>Emprunteur</h2>
<template-contact [contact]="contract.getBorrower()" *ngIf="contract"></template-contact>

<h2>Prêteur</h2>
<template-contact [contact]="contract.getLender()" *ngIf="contract"></template-contact>

<h2>Prêt</h2>
<div class="card" *ngIf="contract">
  <div class="row justify-content-md-center">
    <div class="col-md-6">
      <p class="alert alert-warning">
        <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
        Dates en cours de traduction.
      </p>
    </div>
  </div>
  <p *ngIf="contract.loan.hasGoal">
    <strong>Objectif du prêt:</strong> {{contract.loan.goal}}
  </p>
  <p>
    <strong>Montant du prêt:</strong> {{contract.loan.getTotalAmount()}} {{contract.loan.getCurrency()}}
    à {{contract.loan.interest}}%
  </p>
  <p *ngFor="let item of contract.loan.payoff, let i = index">
    <strong *ngIf="i == 0 && contract.loan.payoff.length > 1">{{i + 1}}er remboursement le:</strong>
    <strong *ngIf="i == 0 && contract.loan.payoff.length == 1">Remboursement le:</strong>
    <strong *ngIf="i > 0">{{i + 1}}e remboursement le:</strong>
    {{item.date | date:['longDate']}} <strong>de</strong> {{item.amount}} {{contract.loan.getCurrency()}}.
  </p>
</div>

<div *ngIf="contract && contract.place && contract.date">
  <h2>Lieu et date</h2>
  <div class="card" *ngIf="contract">
    <p *ngIf="contract.place">
      <strong>Lieu:</strong> {{contract.place}}
    </p>
    <p *ngIf="contract.date">
      <strong>Date:</strong> {{contract.date}}
    </p>
  </div>
</div>

<div class="top-bar" *ngIf="contract">
  <a class="btn btn-warning" [routerLink]="['/dashboard/contracts/edit', contract.getId()]">
    <i class="fa fa-pencil" aria-hidden="true"></i>
    Modifier
  </a>
  <a class="btn btn-danger disabled" [routerLink]="['/dashboard/contracts/', contract.getId()]" disabled>
    <i class="fa fa-times" aria-hidden="true"></i>
    Effacer
  </a>
</div>
